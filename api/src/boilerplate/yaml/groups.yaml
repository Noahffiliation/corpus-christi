module: groups
entities:
  - name: Group
    singular: group
    plural: groups
    uri: /groups
    table: groups_group
    attributes:
      - name: id
        type: integer
        primary-key: true
        min: 1
      - name: name
        type: string
        min-length: 1
        length: medium
        required: true
      - name: description
        type: string
        min-length: 1
        required: true
        length: long
      - name: active
        type: boolean
        required: true
        default: true
      - name: group_type_id
        type: integer
        required: true
        foreign-key: groups_group_type.id
    relationships:
      - name: memberships
        related-model: Membership
        backref: groups
      - name: managements
        related-model: Management
        backref: groups
      - name: meetings
        related-model: Meeting
        backref: groups
      - name: images
        related-model: Image
        backref: groups
  - name: Meeting
    singular: meeting
    plural: meetings
    uri: /meetings
    table: groups_meeting
    attributes:
      - name: id
        type: integer
        primary-key: true
        min: 1
      - name: when
        type: datetime
        required: true
      - name: group_id
        type: integer
        required: true
        foreign-key: groups_group.id
      - name: address_id
        type: integer
        foreign-key: places_address.id
    relationships:
      - name: group
        related-model: Group
        backref: meetings
      - name: address
        related-model: Address
        backref: meetings
  - name: Membership
    singular: membership
    plural: memberships
    uri: /memberships
    table: groups_membership
    attributes:
      - name: group_id
        type: integer
        primary-key: true
        required: true
        foreign-key: groups_group.id
      - name: person_id
        type: integer
        primary-key: true
        required: true
        foreign-key: people_person.id
      - name: joined
        type: date
        required: true
      - name: active
        type: boolean
        required: true
        default: true
    relationships:
      - name: group
        related-model: Group
        backref: members
      - name: person
        related-model: Person
        backref: memberships
  - name: Attendance
    singular: attendance
    plural: attendance
    uri: /attendance
    table: groups_attendance
    attributes:
      - name: meeting_id
        type: integer
        primary-key: true
        foreign-key: groups_meeting.id
      - name: member_id
        type: integer
        primary-key: true
        foreign-key: groups_member.id
  - name: Management
    singular: management
    plural: managements
    uri: /managements
    table: groups_management
    attributes:
      - name: person_id
        type: integer
        min: 1
        required: true
        foreign-key: people_person.id
      - name: group_id
        type: integer
        primary-key: true
        min: 1
        foreign-key: groups_group.id
      - name: management_type_id
        type: integer
        min: 1
        required: false
        foreign-key: groups_management_type.id
      - name: active
        type: boolean
        required: true
        default: true
  - name: ManagementType
    singular: management_type
    plural: management_types
    uri: /management_types
    table: groups_management_type
    attributes:
      - name: id
        type: integer
        required: true
        primary-key: true
      - name: name
        type: string
        length: medium
        required: true
    relationships:
      - name: managements
        related-model: Management
        backref: management_types
  - name: GroupType
    singular: group_type
    plural: group_types
    uri: /group_types
    table: groups_group_type
    attributes:
      - name: id
        type: integer
        required: true
        primary-key: true
      - name: name
        type: string
        length: medium
        required: true
    relationships:
      - name: groups
        related-model: Group
        backref: group_types
